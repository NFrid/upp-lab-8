# Лабораторная работа 8. Использование git

**DISCLAIMER:** персонально я не использую много команд - у меня для этого есть
алиасы и функции, а также несколько плагинов `vim`. Некоторые команды я ни
разу в жизни не использовал, так как у меня была лучшая альтернатива.
Поэтому в своём списке я также привожу и несколько утилит, которые я активно
использую.

## 15 примеров полезных команд git

1. `git log` выводит список коммитов текущей ветки со всеми подробностями:
   его хеш-сумму, автора (вместе с почтой), дату и текст (полный). Имеет большое
   количество флагов, например, `-i` будет искать коммиты по заданному regexp,
   игнорируя кейс. Полный список опций, как обычно, через `-h`.

2. `git shortlog` также выводит список коммитов, но в сокращённом виде. По
   умолчанию выводит списки одних лишь заголовков коммитов, сгруппированные по
   авторам. Флаг `-e` позволяет отображать также почту авторов. Больше флагов,
   разумеется, через флаг `-h`.

3. `git push --force` (или кратко `-f`) является своего рода мемом в мире
   разработчиков. Однако, команда очень полезная, когда необходимо, например, хард
   ресетнуть репозиторий из бекапа.

4. `git commit` без всяких флагов открывает текстовый редактор с телом коммита
   и при его закрытии сохраняет как коммит. Использую всегда, никогда не
   использую `-m` (данное задание - исключение, я буквально повторял), так
   как работаю в `vim` - он запускается прямо в терминале и работает очень
   быстро. Я пишу коммиты быстрее, чем если бы писал через `-m`.

5. `git diff -p` позволяет генерировать диффы в формате патчей. Крайне необходимо
   тем, кто делится со своими модификациями ихдодных кодов, например,
   пользователи `suckless.org software`.

6. `git checkout -p` позволяет интерактивно выбирать части диффов между ветками,
   крутая штука, когда ты активно используешь ветки и нуждаешься в их сверке.

7. `git add .` добавляет все изменения конкретно текущей директории. Я использую
   её вместе с `git commit` (`git add . && git commit`), тем самым одним алиасом
   фиксируя все изменения текущей директории одним коммитом.

8. `git blame` для выбранного файла отображает для каждой строки, какой автор
   модифицировал её последний раз, каким коммитом и когда.

9. `git clean` очищает рабочую директорию от неотслеживаемых файлов. Полезно,
   когда у тебя куча всяких утилит, плодящих свои файлы где попало. Не удаляет
   то, что вписано в `.gitignore` (флаг `-a` удаляет также и их).

10. `git gc` - волшебная команда, которая оптимизирует рабочую директорию,
    вычищая мусорные файлы, сжимая ревижионы, упаковывая рефы, расчищая
    метаданные. Может сэкономить добрую кучу места для бородатых и больших
    репозиториев.

11. `git archive` создаёт, как понятно из названия, архив рабочего дерева.
    Полезно, когда любишь создавать бекапы на всякий случай (я люблю).

12. `git mv`/`git rm` двигает и удаляет файлы и директории так же, как это
    делают UNIX утилиты, при этом автоматически отслеживая все эти изменения
    (по сути просто сахар, чтобы не писать лишние команды).

13. `git gui` открывает своеобразный графический интерфейс гита. Почему-то мало
    кто пользуется этой командой. Ах, да, ведь терминал много удобнее гуи!
    В самом деле, зачем тебе какая-то гуишка, когда есть ncursed утилита
    под названием `lazygit`!

14. `lazygit` - утилита с ncursed интерфейсом, отображающая ВСЁ и даже больше,
    имеющая vim-like управление и способная делать многое (хотя команды терминала
    удобнее хотя бы тем, что для их запуска тебе не надо открывать утилиту и
    прожимать много кнопок - лезигит обычно полезен именно своей визуализацией).
    Есть плагин для редактора `vim`, открывающий окно утилиты прямо в редакторе.

15. `vim-fugitive` - не команда, а плагин для редактора `vim`, добавляющий уйму
    интерактивных команд. Я персонально использую его довольно мало - алиасы в
    терминале мне гораздо удобнее множества сочетаний клавиш в виме. Однако, его
    режим диффов мне очень помогает в слиянии веток, так как наглядно и интерактивно
    позволяет разрешать все конфликты.
